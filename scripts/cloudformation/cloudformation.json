{
  "AWSTemplateFormatVersion": "2010-09-09",
  "Metadata": {
    "AWS::CloudFormation::Designer": {
      "25a04534-7d57-4ad0-b4c8-7cbc5559f033": {
        "size": {
          "width": 60,
          "height": 60
        },
        "position": {
          "x": 260,
          "y": 80
        },
        "z": 1,
        "embeds": []
      }
    }
  },
  "Resources": {
    "DBParameter": {
        "Type": "AWS::SSM::Parameter",
        "Properties": {
          "Type": "String",
          "Name": "/my-app/database",
          "Value": "my-database-value"
        }
    },
    "UserParameter": {
        "Type": "AWS::SSM::Parameter",
        "Properties": {
          "Type": "String",
          "Name": "/my-app/user",
          "Value": "my-username-value"
        }
    },
    "PasswordParameter": {
        "Type": "AWS::SSM::Parameter",
        "Properties": {
          "Type": "String",
          "Name": "/my-app/password",
          "Value": "my-password-value"
        }
    },
    "HostParameter": {
        "Type": "AWS::SSM::Parameter",
        "Properties": {
          "Type": "String",
          "Name": "/my-app/host",
          "Value": "my-host-value"
        }
    },
    "PortParameter": {
        "Type": "AWS::SSM::Parameter",
        "Properties": {
          "Type": "String",
          "Name": "/my-app/port",
          "Value": "my-port-value"
        }
    },
    "AddCustomerFunction": {
        "Type": "AWS::Lambda::Function",
        "Properties": {
            "Code": {
                "S3Bucket": "repair-lneil",
                "S3Key": "add-customer.zip"
            },
            "Role": "arn:aws:iam::286456780400:role/service-role/add-customer-role-sxndynrl",
            "Runtime": "python3.7",
            "Handler": "add-customer.lambda_handler",
            "VpcConfig": {
                "SubnetIds": [
                    "subnet-0f7a246f9e06f81d2",
                    "subnet-0af6145256374ccf3",
                    "subnet-021c1678adadf3366"
                ],
                "SecurityGroupIds": [
                    "sg-0d2971aad7d08fa3f"
                ]
            },
            "Layers": [
                "arn:aws:lambda:ap-southeast-2:286456780400:layer:psycopg2:3"
            ],
            "Environment": {
                "Variables": {
                    "DB": {
                        "Ref": "DBParameter"
                    },
                    "USER": {
                        "Ref": "UserParameter"
                    },
                    "PASSWORD": {
                        "Ref": "PasswordParameter"
                    },
                    "HOST": {
                        "Ref": "HostParameter"
                    },
                    "PORT": {
                        "Ref": "PortParameter"
                    }
                }
            }
        }
    },
    "AddAssetFunction": {
        "Type": "AWS::Lambda::Function",
        "Properties": {
            "Code": {
                "S3Bucket": "repair-lneil",
                "S3Key": "add-asset.zip"
            },
            "Role": "arn:aws:iam::286456780400:role/service-role/add-customer-role-sxndynrl",
            "Runtime": "python3.7",
            "Handler": "add-asset.lambda_handler",
            "VpcConfig": {
                "SubnetIds": [
                    "subnet-0f7a246f9e06f81d2",
                    "subnet-0af6145256374ccf3",
                    "subnet-021c1678adadf3366"
                ],
                "SecurityGroupIds": [
                    "sg-0d2971aad7d08fa3f"
                ]
            },
            "Layers": [
                "arn:aws:lambda:ap-southeast-2:286456780400:layer:psycopg2:3"
            ],
            "Environment": {
                "Variables": {
                    "DB": {
                        "Ref": "DBParameter"
                    },
                    "USER": {
                        "Ref": "UserParameter"
                    },
                    "PASSWORD": {
                        "Ref": "PasswordParameter"
                    },
                    "HOST": {
                        "Ref": "HostParameter"
                    },
                    "PORT": {
                        "Ref": "PortParameter"
                    }
                }
            }
        }
    },
    "AddEmployeeFunction": {
      "Type": "AWS::Lambda::Function",
        "Properties": {
            "Code": {
                "S3Bucket": "repair-lneil",
                "S3Key": "add-employee.zip"
            },
            "Role": "arn:aws:iam::286456780400:role/service-role/add-customer-role-sxndynrl",
            "Runtime": "python3.7",
            "Handler": "add-employee.lambda_handler",
            "VpcConfig": {
                "SubnetIds": [
                    "subnet-0f7a246f9e06f81d2",
                    "subnet-0af6145256374ccf3",
                    "subnet-021c1678adadf3366"
                ],
                "SecurityGroupIds": [
                    "sg-0d2971aad7d08fa3f"
                ]
            },
            "Layers": [
                "arn:aws:lambda:ap-southeast-2:286456780400:layer:psycopg2:3"
            ],
            "Environment": {
                "Variables": {
                    "DB": {
                        "Ref": "DBParameter"
                    },
                    "USER": {
                        "Ref": "UserParameter"
                    },
                    "PASSWORD": {
                        "Ref": "PasswordParameter"
                    },
                    "HOST": {
                        "Ref": "HostParameter"
                    },
                    "PORT": {
                        "Ref": "PortParameter"
                    }
                }
            }
        }
    },
    "AddInvoiceFunction": {
      "Type": "AWS::Lambda::Function",
        "Properties": {
            "Code": {
                "S3Bucket": "repair-lneil",
                "S3Key": "add-invoice.zip"
            },
            "Role": "arn:aws:iam::286456780400:role/service-role/add-customer-role-sxndynrl",
            "Runtime": "python3.7",
            "Handler": "add-invoice.lambda_handler",
            "VpcConfig": {
                "SubnetIds": [
                    "subnet-0f7a246f9e06f81d2",
                    "subnet-0af6145256374ccf3",
                    "subnet-021c1678adadf3366"
                ],
                "SecurityGroupIds": [
                    "sg-0d2971aad7d08fa3f"
                ]
            },
            "Layers": [
                "arn:aws:lambda:ap-southeast-2:286456780400:layer:psycopg2:3"
            ],
            "Environment": {
                "Variables": {
                    "DB": {
                        "Ref": "DBParameter"
                    },
                    "USER": {
                        "Ref": "UserParameter"
                    },
                    "PASSWORD": {
                        "Ref": "PasswordParameter"
                    },
                    "HOST": {
                        "Ref": "HostParameter"
                    },
                    "PORT": {
                        "Ref": "PortParameter"
                    }
                }
            }
        }
    },
    "AddItemFunction": {
      "Type": "AWS::Lambda::Function",
        "Properties": {
            "Code": {
                "S3Bucket": "repair-lneil",
                "S3Key": "add-item.zip"
            },
            "Role": "arn:aws:iam::286456780400:role/service-role/add-customer-role-sxndynrl",
            "Runtime": "python3.7",
            "Handler": "add-item.lambda_handler",
            "VpcConfig": {
                "SubnetIds": [
                    "subnet-0f7a246f9e06f81d2",
                    "subnet-0af6145256374ccf3",
                    "subnet-021c1678adadf3366"
                ],
                "SecurityGroupIds": [
                    "sg-0d2971aad7d08fa3f"
                ]
            },
            "Layers": [
                "arn:aws:lambda:ap-southeast-2:286456780400:layer:psycopg2:3"
            ],
            "Environment": {
                "Variables": {
                    "DB": {
                        "Ref": "DBParameter"
                    },
                    "USER": {
                        "Ref": "UserParameter"
                    },
                    "PASSWORD": {
                        "Ref": "PasswordParameter"
                    },
                    "HOST": {
                        "Ref": "HostParameter"
                    },
                    "PORT": {
                        "Ref": "PortParameter"
                    }
                }
            }
        }
    },
    "AddStockFunction": {
      "Type": "AWS::Lambda::Function",
        "Properties": {
            "Code": {
                "S3Bucket": "repair-lneil",
                "S3Key": "add-stock.zip"
            },
            "Role": "arn:aws:iam::286456780400:role/service-role/add-customer-role-sxndynrl",
            "Runtime": "python3.7",
            "Handler": "add-stock.lambda_handler",
            "VpcConfig": {
                "SubnetIds": [
                    "subnet-0f7a246f9e06f81d2",
                    "subnet-0af6145256374ccf3",
                    "subnet-021c1678adadf3366"
                ],
                "SecurityGroupIds": [
                    "sg-0d2971aad7d08fa3f"
                ]
            },
            "Layers": [
                "arn:aws:lambda:ap-southeast-2:286456780400:layer:psycopg2:3"
            ],
            "Environment": {
                "Variables": {
                    "DB": {
                        "Ref": "DBParameter"
                    },
                    "USER": {
                        "Ref": "UserParameter"
                    },
                    "PASSWORD": {
                        "Ref": "PasswordParameter"
                    },
                    "HOST": {
                        "Ref": "HostParameter"
                    },
                    "PORT": {
                        "Ref": "PortParameter"
                    }
                }
            }
        }
    },
    "AddStoreFunction": {
      "Type": "AWS::Lambda::Function",
        "Properties": {
            "Code": {
                "S3Bucket": "repair-lneil",
                "S3Key": "add-store.zip"
            },
            "Role": "arn:aws:iam::286456780400:role/service-role/add-customer-role-sxndynrl",
            "Runtime": "python3.7",
            "Handler": "add-store.lambda_handler",
            "VpcConfig": {
                "SubnetIds": [
                    "subnet-0f7a246f9e06f81d2",
                    "subnet-0af6145256374ccf3",
                    "subnet-021c1678adadf3366"
                ],
                "SecurityGroupIds": [
                    "sg-0d2971aad7d08fa3f"
                ]
            },
            "Layers": [
                "arn:aws:lambda:ap-southeast-2:286456780400:layer:psycopg2:3"
            ],
            "Environment": {
                "Variables": {
                    "DB": {
                        "Ref": "DBParameter"
                    },
                    "USER": {
                        "Ref": "UserParameter"
                    },
                    "PASSWORD": {
                        "Ref": "PasswordParameter"
                    },
                    "HOST": {
                        "Ref": "HostParameter"
                    },
                    "PORT": {
                        "Ref": "PortParameter"
                    }
                }
            }
        }
    },
    "AddTicketFunction": {
      "Type": "AWS::Lambda::Function",
        "Properties": {
            "Code": {
                "S3Bucket": "repair-lneil",
                "S3Key": "add-ticket.zip"
            },
            "Role": "arn:aws:iam::286456780400:role/service-role/add-customer-role-sxndynrl",
            "Runtime": "python3.7",
            "Handler": "add-ticket.lambda_handler",
            "VpcConfig": {
                "SubnetIds": [
                    "subnet-0f7a246f9e06f81d2",
                    "subnet-0af6145256374ccf3",
                    "subnet-021c1678adadf3366"
                ],
                "SecurityGroupIds": [
                    "sg-0d2971aad7d08fa3f"
                ]
            },
            "Layers": [
                "arn:aws:lambda:ap-southeast-2:286456780400:layer:psycopg2:3"
            ],
            "Environment": {
                "Variables": {
                    "DB": {
                        "Ref": "DBParameter"
                    },
                    "USER": {
                        "Ref": "UserParameter"
                    },
                    "PASSWORD": {
                        "Ref": "PasswordParameter"
                    },
                    "HOST": {
                        "Ref": "HostParameter"
                    },
                    "PORT": {
                        "Ref": "PortParameter"
                    }
                }
            }
        }
    },
    "QueryFunction": {
      "Type": "AWS::Lambda::Function",
        "Properties": {
            "Code": {
                "S3Bucket": "repair-lneil",
                "S3Key": "query.zip"
            },
            "Role": "arn:aws:iam::286456780400:role/service-role/add-customer-role-sxndynrl",
            "Runtime": "python3.7",
            "Handler": "query.lambda_handler",
            "VpcConfig": {
                "SubnetIds": [
                    "subnet-0f7a246f9e06f81d2",
                    "subnet-0af6145256374ccf3",
                    "subnet-021c1678adadf3366"
                ],
                "SecurityGroupIds": [
                    "sg-0d2971aad7d08fa3f"
                ]
            },
            "Layers": [
                "arn:aws:lambda:ap-southeast-2:286456780400:layer:psycopg2:3"
            ],
            "Environment": {
                "Variables": {
                    "DB": {
                        "Ref": "DBParameter"
                    },
                    "USER": {
                        "Ref": "UserParameter"
                    },
                    "PASSWORD": {
                        "Ref": "PasswordParameter"
                    },
                    "HOST": {
                        "Ref": "HostParameter"
                    },
                    "PORT": {
                        "Ref": "PortParameter"
                    }
                }
            }
        }
    }
  }
}